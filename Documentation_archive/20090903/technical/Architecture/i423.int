========================================================================

File:      $RCSfile: i423.int,v $
Version:   $Revision: 1.1 $
Modified:  $Date: 2009/09/03 18:20:34 $

(c) Copyright 2004-2009 by Mentor Graphics Corp. All rights reserved.

========================================================================
This document contains information proprietary and confidential to
Mentor Graphics Corp. and is not for external distribution.
========================================================================

Tiger Project Implementation Note
Allocating unique ids separately for each model root

Abstract
--------
This note describes how the allocation of unique ids is implemented
independently for each model root.

History
-------

Document References
-------------------
[1]Bugzilla issue 423
[2]bp.core/doc/internal/technical/Architecture/i423.dnt
[3]Bugzilla issue 38

Background
----------
See [2].

Design
------
See [2].

Unit Test
---------
_- Open ODMS
_- Open Disk.ISM.Waiting for Slot
_- Place a space in the first Assign keyword.
_R Two syntax errors are shown (one for each half of the keyword)
_- Revert the activity or repair the syntax error and save.

_- Perform a Compare > With Each Other on two different versions
   of ODMS.

_- Open Disk.ISM.Waiting for Slot again.
_- Place a space in the first Assign keyword.
_R Two syntax errors are still shown

_- Run io.sql unit tests
_- Run io.mdl unit tests
_- Run compare unit tests
_R All tests pass

Implementation Comments
-----------------------
The original proposed changes to propagate model root instances through the
loading sequence turned out to be in conflict with the needs of development for
another issue[3]. To avoid unnecessary rework, the more general design selected
for the other issue was included in this implementation. This involves the
following changes to the io.core plugin:

- Moving the cache for the model roots (for the model itself and the graphics)
  up one level in the exporter and importer classes (i.e. those classes
  generated by gen_export_java.inc and gen_import_java.inc).
- Passing the model root to the constructor of the same classes.
- Obtaining and caching the graphics model root from the registry using the
  name of the cached model root.
- Enhancing the CoreExport and CoreImport classes to support the required
  cacheing behavior.
- Modifying .classpath, .project and plugin.xml files of io.core to include
  ui.canvas in the list of dependencies (previously, visibility of this plugin
  was required only for the generated subtypes).

The importer class was also modified to make its model root handle naming
consistent with other parts of Tiger.

Code Changes
------------
com.projtech.bp.io.core/arc/gen_export_java.inc
Initial Version: 1.3       Final Version: 1.5

com.projtech.bp.io.core/arc/gen_import_java.inc
Initial Version: 1.3       Final Version: 1.5

com.projtech.bp.io.core/src/com/projtech/bp/io/core/CoreExport.java
Initial Version: 1.2        Final Version: 1.3

com.projtech.bp.io.core/src/com/projtech/bp/io/core/CoreImport.java
Initial Version: 1.1        Final Version: 1.2

com.projtech.bp.io.core/.classpath
Initial Version: 1.3       Final Version: 1.4

com.projtech.bp.io.core/.project
Initial Version: 1.4       Final Version: 1.5

com.projtech.bp.io.core/plugin.xml
Initial Version: 1.4       Final Version: 1.5

MC-Java/java.arc
Initial Version: 1.25      Final Version: 1.26

End
---

$Log: i423.int,v $
Revision 1.1  2009/09/03 18:20:34  rmulvey
job:dts0100616734
Archive documentation and other development notes following the R3_0_0 release.  These are being archived under Documentation/internal/technical/archive/20090903

Revision 1.6  2009/01/01 23:13:16  rmulvey
Job:4060
Batch promotion of copyright changes from Review-i4060 and Review-i4060-01.

Revision 1.5.152.1  2008/12/31 16:10:23  rmulvey
Job:4060
This is a batch commit of 2009 copyright changes to branch Review-i4060.  This includes the
report that outlines all changes made (before/after for each line changed).  This report is found here: <cvs>/Documentation/internal/test_results/R2_1_2/i4060/update-copyright-results.txt.

Revision 1.5  2004/10/15 17:46:48  campbell
Job: 423
Updated versions added new unit tests.

Revision 1.4  2004/10/15 16:54:15  campbell
Job: 423
Updated revision number for omitted code removal.

Revision 1.3  2004/10/14 23:16:59  campbell
Job: 423
Ready for review.

Revision 1.2  2004/10/14 20:41:05  campbell
Job: 423
Removed irrelevant log entries.
