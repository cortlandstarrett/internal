Differences in the Solaris versions of the BridgePoint 6.1 executables

Building new Solaris executables using the same sources used to build Version
6.1 C, and the same checklists and build scripts results in executable image
sizes that somewhat smaller.  For example, the 6.1C version of the analyst
executable is approximately 24.7 MB, the 6.1E version is approximatel 24.1 MB.

1) Source file differences

There are no source file differences.  The 6.1E source file thread was copied
from the 6.1C thread.  There are schema sources that are generated by the
ObjectStore utility, ossg.  A comparison of those generated sources shows that
essentially identical files are being created.

2) 3rd party libraries, ObjectStore, Galaxy, Elan, differences

There is no way to definitively prove that the same libraries are being used.
Build script log files show that the same library paths are being used.

3) Compiler differences

The compiler license key server used to run on 'pttucson'.  Because of a failed
ethernet interface, built onto the motherboard, that computer did not come back
up after integration into the Mentor network on June 21.  A new license server
was installed on 'avocet'.  At that time a patch was installed to allow the
license server to run as an unprived user.  No evidence has been found of any
other changes to the compiler.

4) Static libraries

The only known reasonable way for changes to occur to the static system
libraries that could be linked into the executables is by way of installation of
system patches.

An examination of the /var/sadm/patch directory showed that 10 patches were
installed in early April 2004.  Nine of those patches were sucessfully
uninstalled.  Patch 105633-64 could not be uninstalled, the uninstall script
reported that because backups did not exist of the files replaced, the patch
could not be removed.

Jonathan Davis of IT Services in Mobile has reported the he has installed no
patches on 'avocet'.  Travis London cannot recall installing patches on
'avocet'.  Brian Tharp has reported that as far as he knows, no one under his
supervision has installed patches on that machine, and it is very unlikely that
anything of the sort would have been done before the Mentor network integration
in late June 2004.  Matt Hymowitz of GMP, the PT IT services contractor, is
checking his records to confirm this but from what he recalls he has not
installed patches on 'avocet'.

No method was found to definitively determine the state of patches that existed
on 'avocet' at the time BP 6.1C was built in May 2003.  For example, when the
nine April 2004 patches were backed out, their /var/sadm/patch directory entries
were deleted.  No system logs files could be found that contained entries
documenting events such as 'patch # installed on this date' or 'patch # removed
on this date', etc.  Also evidence was found that patches were installed after
May 2003, even though no entries for them exist in /var/sadm/patch.  For
example, the utility 'showrev' shows that patch 107733-11 was installed.  The
release date of the patch is July 28, 2003.

 5) Comparison of executables 

Utilites used:

nm - a tool to compare object file name lists

what - a tool to search object files for and print RCCS version information 

Excell - to do 3 level sorts of 'nm' output files

remmgl - a perl script written to filter C++ name-mangling from 'nm' output
files.

For each of the 4 BP executables, the following procedures were done:

Object file name lists were created for each version of each executable.  Each
name list was imported into an Excell worksheet.  A 3 level sort was done, by
'Type', 'Name', and 'Size'. 'Num' and 'Value' information was deleted.  C++
name-mangled names were move to another worksheet (only Analyst and Sim_ooa).
Each was exported out of Excell as tab-delimited text files.  The lists of
mangled names were filtered through the 'remmgl' script and then resorted. 

    a) Analyst
    
Byte size of 6.1C executable: 24863612
Byte size of 6.1E executable: 24178196

A difference in that 'what' of executables was observed.  Several system headers
are newer:
---------------------
1c1
< analyst61C:
---
> analyst61E:
56,61c56,61
<       dlfcn.h 1.30    97/12/05 SMI
<       link.h  1.30    97/11/23 SMI
<       link.h  1.37    98/03/04 SMI
<       elftypes.h      1.17    98/01/12 SMI
<       libelf.h        1.18    97/04/01 SMI
<       elf.h   1.32    98/01/22 SMI
---
>       dlfcn.h 1.35    01/07/27 SMI
>       link.h  1.36    01/10/25 SMI
>       link.h  1.55    01/08/22 SMI
>       elftypes.h      1.20    98/04/08 SMI
>       libelf.h        1.22    01/04/23 SMI
>       elf.h   1.43    01/11/07 SMI
------------------
It is most likely these new headers were installed as part of patch 107733-11.
As described above there is definitive way to know exactly when it was
installed.  However since the release date is in July 2003 it had to be after
6.1C was generated in May 2003.

No differences in mangled name list files.

One difference found in the regular name list files:
------------
<     2008      FUNC    LOCL    0       9       __0FVpredefined_paper_namePCUs
---
>     1936      FUNC    LOCL    0       9       __0FVpredefined_paper_namePCUs
------------
The function 'predefined_paper_name' is defined in the source file
w_prtopt_rd.cc.   The 6.1C debug version of the object file does not existing,
it was overwritten by the optimized version.  However the 6.1A debug version
does exist.  Comparisons were made of the 61A and 61C 'what' and 'nm' output.
No significant differences were found.

    b) Sim_ooa

Byte size of 6.1C executable: 15714256
Byte size of 6.1E executable: 15177940

No differences in mangled name list files.

One difference found in the regular name list files:
------------
13047c13047
<      752      FUNC    GLOB    0       9       __0fOW_index_windowasystem_clock
_tick_occurredvT
---
>      728      FUNC    GLOB    0       9       __0fOW_index_windowasystem_clock
_tick_occurredvT
------------
The function 'system_clock_tick_ocurred' is defined in the source file
sw_index.cc.   The 6.1C debug version of the object file does not existing,
it was overwritten by the optimized version.  However the 6.1A debug version
does exist.  Comparisons were made of the 61A and 61C 'what' and 'nm' output.
No significant differences were found.

    c) Gen_file

Byte size of 6.1C (nodebug) executable: 2646636
Byte size of 6.1E (nodebug) executable: 2501532

No significant differences in the name list files.

    d) Gen_import
    
Byte size of 6.1C (nodebug) executable: 1268380
Byte size of 6.1E (nodebug) executable: 1178596

No significant differences in the name list files.


    